<script type="text/javascript">
  $(document).ready(function() {
    function drawPosition(x, y, intensity) {
      paper.circle(x, y, 5).attr({'stroke':'#f00', 'stroke-width':intensity});
      paper.circle(x, y, 10).attr({'stroke':'#f00', 'stroke-width':intensity});
      paper.path("M " + x + " " + y + "l " + intensity * 10 + " " + intensity * 10).attr({'stroke':'#f00', 'stroke-width':intensity});
      paper.path("M " + x + " " + y + "l -" + intensity * 10 + " " + intensity * 10).attr({'stroke':'#f00', 'stroke-width':intensity});
      paper.path("M " + x + " " + y + "l " + intensity * 10 + " -" + intensity * 10).attr({'stroke':'#f00', 'stroke-width':intensity});
      paper.path("M " + x + " " + y + "l -" + intensity * 10 + " -" + intensity * 10).attr({'stroke':'#f00', 'stroke-width':intensity});
    };
    <% @positions.each_with_index do |position, idx| %>
      drawPosition(<%= position.x %>, <%= position.y %>, (6 - <%= idx %>) * 0.34);
    <% end %>
  })
</script>
